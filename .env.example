# =============================================================================
# BAKERY OPERATIONS APP - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port (default: 5000)
PORT=5000

# Environment: development, test, production
NODE_ENV=development

# =============================================================================
# SECURITY (REQUIRED)
# =============================================================================

# JWT Secret - MUST be at least 32 characters in production
# Generate with: openssl rand -base64 32
# WARNING: Change this before deploying to production!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# Allowed CORS origins (comma-separated, no spaces)
# For production, list your actual domains
# Example: https://app.yourdomain.com,https://admin.yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000

# Optional: admin emergency recovery key for forgotten admin password
# Used by POST /api/auth/recover-admin-account
# Set a long random value in production and share only with trusted operators
# ADMIN_RECOVERY_KEY=change-this-emergency-recovery-key

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection URL (recommended for production)
# For Supabase: use Connection Pooler URL (port 6543) with sslmode=require
# Example: postgresql://postgres.ref:password@region.pooler.supabase.com:6543/postgres?sslmode=require
# DATABASE_URL=

# Alternative: Individual PostgreSQL settings (for local development)
PGHOST=127.0.0.1
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=bakery_ops

# Database connection settings
DB_IP_FAMILY=4
DB_CONNECTION_TIMEOUT_MS=10000
DB_IDLE_TIMEOUT_MS=30000
DB_MAX_POOL_SIZE=20
DB_MIN_POOL_SIZE=2

# SSL Configuration
# Set to 'false' ONLY for local development without SSL
# In production, keep this 'true' or remove entirely
SSL_REJECT_UNAUTHORIZED=true

# Optional: SSL CA Certificate (for production databases)
# SSL_CA_CERT=

# =============================================================================
# RATE LIMITING (Optional overrides)
# =============================================================================

# Rate limit window in minutes (default: 15)
# RATE_LIMIT_WINDOW_MS=900000

# Max requests per window (default: 100)
# RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING (Optional)
# =============================================================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================

# Enable debug mode (not recommended for production)
# DEBUG=false

# =============================================================================
# CLIENT CONFIGURATION (for client/.env)
# =============================================================================
# Create a separate .env file in the client/ directory with:
# VITE_API_URL=http://localhost:5000
